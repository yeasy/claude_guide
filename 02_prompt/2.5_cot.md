# 2.5 思维链与逐步推理

**思维链（Chain of Thought, CoT）** 是让 Claude 展示推理过程的技术。对于复杂问题，思维链能显著提高准确性。

---

## 为什么思维链有效？

直接回答复杂问题时，Claude 可能"跳跃式"得出错误答案。思维链强制一步步思考：

```
❌ 无思维链
问：餐厅有 200 把椅子，每桌 4 把椅子，满座时有多少客人？
答：800 人（错误！）

✅ 有思维链
答：
1. 总椅子数：200 把
2. 每桌椅子数：4 把
3. 桌子数量：200 ÷ 4 = 50 张
4. 满座客人 = 椅子数 = 200 人
答案：200 位客人
```

---

## 触发思维链的方法

### 方法 1：直接指令

```
请一步步思考这个问题，然后给出答案。
```

### 方法 2：使用 thinking 标签

```xml
<instructions>
先在 <thinking> 标签中展示推理过程，然后在 <answer> 标签中给出答案。
</instructions>

<problem>
火车以 80km/h 行驶 3.5 小时，途中停靠 2 站各 10 分钟，实际行驶多少公里？
</problem>
```

### 方法 3：示例引导

通过 Few-shot 示例展示思维链格式。

---

## Extended Thinking

Claude 4 内置深度思考模式：

| 特性 | 说明 |
|------|------|
| 触发 | API 参数 `extended_thinking: true` |
| 适用 | 复杂推理、数学、代码设计 |
| 消耗 | 更高（思考过程也计费） |

---

## 适用场景

| 场景 | 推荐 | 原因 |
|------|------|------|
| 数学计算 | ✅ | 减少错误 |
| 逻辑推理 | ✅ | 确保逻辑完整 |
| 代码调试 | ✅ | 逐步定位 |
| 简单问答 | ❌ | 不必要 |
| 创意写作 | ❌ | 抑制创造力 |

---

## 小结

- 思维链让 Claude 展示推理过程
- 使用 `<thinking>` 标签明确思考区域
- 只在复杂推理任务中使用

下一节，我们将学习如何 [控制输出格式](2.6_format.md)。
